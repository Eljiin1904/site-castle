$yellow: var(--sand-color);
$dark-yellow: var(--dark-sand-rgb-color);
$light-yellow: var(--light-sand-color);

@mixin border-gradient($start, $end) {
  border-image-slice: 1;
  border-image-repeat: stretch;
  border-image-source: linear-gradient(180deg, $start 0.01%, $end 100%);
}

@mixin background-gradient($color, $opacity-start, $opacity-end) {
  background-image: linear-gradient(180deg, rgba($color, $opacity-start), rgba($color, $opacity-end));
}

@keyframes MinesGridCard-fill {
  from { clip-path: inset(100% 0 0 0) }
  to { clip-path: inset(0 0 0 0) }
}

@keyframes MinesGridCard-pop-in {
  0% { transform: scale(0.6) }
  50% { transform: scale(1.2) }
  100% { transform: scale(1) }
}

.MinesPage .MinesGridCard {

  //ok
  background-color: rgba(var(--light-sand-rgb-color), 0.1);
 
  &.disabled {
    cursor: not-allowed;
  }

  &.visible:not(.revealed) {
    
    .icon {
      color: var(--sand-color);
      opacity: 0.2;
    }
  }
  
  &.revealed {
    .icon {
      animation: MinesGridCard-pop-in 200ms ease-out;
    }
  }

  &:hover:not(.disabled) {
    border: 1px solid var(--sand-color);
    cursor: pointer;

    .icon {
      color: var(--sand-color);
    }
  }

  &.revealed {
    
    background-color: var(--bright-green-color);
  }
  
  &.auto {
    background-color: rgba(var(--sand-rgb-color), 0.25);
    .icon {
      color: var(--auto-gem-color);
      opacity: 1;
    }

    &:hover:not(.disabled) {
     
      border: 1px solid var(--sand-color);
     .icon {
        color: var(--auto-gem-color);
        opacity: 1;
      }
    }
  }

  &.revealed.mined:not(.animating) {
    background-color: var(--double-red-color);
  }

  &.animating {
    background-color: rgba(var(--sand-rgb-color), 0.2);
    border: 1px solid var(--sand-color);
    @include background-gradient($yellow, 0.05, 0.02);

    .animation .background {
      color: var(--black-hover-color);
    }

    .animation .fill {
      color: var(--sand-color);
      clip-path: inset(100% 0 0 0);
      animation: MinesGridCard-fill 200ms ease-in-out forwards;
    }
  }

  //To Review
  &.queued {
    background-color: rgba(var(--sand-rgb-color), 0.2);
    @include background-gradient($yellow, 0.05, 0.02);
    border: 1px solid var(--sand-color);
  }
}